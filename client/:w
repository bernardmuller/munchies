"use client";

import { useCurrentMenuData } from "@/hooks/menusHooks";
import MealList from "./MealList";
import GroceryList from "./GroceryList";
import { useGrocerylistData } from "@/hooks/grocerylistHooks";
import { Skeleton } from "@/components/ui/skeleton";

export default function Home() {
	const { data: menu } = useCurrentMenuData();
	const { data: grocerylist } = useGrocerylistData(
		menu?.grocerylistId as string
	);

	if (!menu)
		return (
			<div className="flex flex-row gap-4 justify-evenly min-h-[50vh]">
				<Skeleton className="w-full h-28 rounded-md" />
				<Skeleton className="w-full h-28 rounded-md" />
				<Skeleton className="w-48 h-[40vh] rounded-md" />
			</div>
		);

	return (
		<div className="flex flex-col lg:flex-row gap-8  w-full min-h-[50vh]">
			<div className="w-full h-full xl:flex-[0.6] ">
				<MealList meals={menu?.meals} />
			</div>

			<div className="w-full h-full lg:flex-[0.4] lg:pl-4 sm:pt-7 lg:pt-0">
				<GroceryList items={grocerylist?.items!} />
			</div>
		</div>
	);
}
