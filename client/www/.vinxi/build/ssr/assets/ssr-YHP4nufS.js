import{H3Event as W,getRequestURL as Je,getResponseHeaders as Ue,getRequestWebStream as We,getRequestHeaders as Ge,getResponseStatus as Ke,eventHandler as fe}from"h3";import{AsyncLocalStorage as Ve}from"node:async_hooks";import{useRouter as v,ScriptOnce as A,pick as Ze,isPlainArray as Qe,isPlainObject as X,defer as Xe,createControlledPromise as Ye,RouterProvider as et,createMemoryHistory as tt,defaultStringifySearch as rt,isRedirect as G,isNotFound as K,defaultParseSearch as nt,useRouterState as P,useMatch as st,rootRouteId as ot,ErrorComponent as at,Link as V,createRootRoute as it,Outlet as ct,ScrollRestoration as ut,createFileRoute as y,lazyRouteComponent as x,redirect as pe,createRouter as lt}from"@tanstack/react-router";import{jsxs as g,Fragment as R,jsx as c}from"react/jsx-runtime";import*as $ from"react";import{createContext as dt,createElement as he}from"react";import{Transform as ft,PassThrough as pt}from"node:stream";import q from"react-dom/server";import{getAuth as ht,createClerkHandler as mt}from"@clerk/tanstack-start/server";import{ClerkProvider as gt}from"@clerk/tanstack-start";import{TanStackRouterDevtools as yt}from"@tanstack/router-devtools";import{createPortal as _t}from"react-dom";class k{constructor(){this.cache=new Map}static create(){return k.instance||(k.instance=new k),k.instance}createContext(t,r){const n=dt(r);return this.cache.set(t,n),n}get(t,r){return this.cache.get(t)||this.createContext(t,r)}}const xt=k.create(),me=xt;function wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const ge={},vt=ge.hasOwnProperty,ye=(e,t)=>{for(const r in e)vt.call(e,r)&&t(r,e[r])},bt=(e,t)=>(t&&ye(t,(r,n)=>{e[r]=n}),e),St=(e,t)=>{const r=e.length;let n=-1;for(;++n<r;)t(e[n])},B=e=>"\\u"+("0000"+e).slice(-4),T=(e,t)=>{let r=e.toString(16);return t?r:r.toUpperCase()},N=ge.toString,Rt=Array.isArray,$t=e=>typeof Buffer=="function"&&Buffer.isBuffer(e),Ct=e=>N.call(e)=="[object Object]",Et=e=>typeof e=="string"||N.call(e)=="[object String]",kt=e=>typeof e=="number"||N.call(e)=="[object Number]",It=e=>typeof e=="function",jt=e=>N.call(e)=="[object Map]",Tt=e=>N.call(e)=="[object Set]",Ht={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Pt=/[\\\b\f\n\r\t]/,At=/[0-9]/,Nt=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ft=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,Ot=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,S=(e,t)=>{const r=()=>{d=u,++t.indentLevel,u=t.indent.repeat(t.indentLevel)},n={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},o=t&&t.json;o&&(n.quotes="double",n.wrap=!0),t=bt(n,t),t.quotes!="single"&&t.quotes!="double"&&t.quotes!="backtick"&&(t.quotes="single");const a=t.quotes=="double"?'"':t.quotes=="backtick"?"`":"'",s=t.compact,i=t.lowercaseHex;let u=t.indent.repeat(t.indentLevel),d="";const l=t.__inline1__,f=t.__inline2__,p=s?"":`
`;let h,_=!0;const b=t.numbers=="binary",w=t.numbers=="octal",C=t.numbers=="decimal",Le=t.numbers=="hexadecimal";if(o&&e&&It(e.toJSON)&&(e=e.toJSON()),!Et(e)){if(jt(e))return e.size==0?"new Map()":(s||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+S(Array.from(e),t)+")");if(Tt(e))return e.size==0?"new Set()":"new Set("+S(Array.from(e),t)+")";if($t(e))return e.length==0?"Buffer.from([])":"Buffer.from("+S(Array.from(e),t)+")";if(Rt(e))return h=[],t.wrap=!0,l&&(t.__inline1__=!1,t.__inline2__=!0),f||r(),St(e,m=>{_=!1,f&&(t.__inline2__=!1),h.push((s||f?"":u)+S(m,t))}),_?"[]":f?"["+h.join(", ")+"]":"["+p+h.join(","+p)+p+(s?"":d)+"]";if(kt(e)){if(o)return JSON.stringify(e);if(C)return String(e);if(Le){let m=e.toString(16);return i||(m=m.toUpperCase()),"0x"+m}if(b)return"0b"+e.toString(2);if(w)return"0o"+e.toString(8)}else return Ct(e)?(h=[],t.wrap=!0,r(),ye(e,(m,E)=>{_=!1,h.push((s?"":u)+S(m,t)+":"+(s?"":" ")+S(E,t))}),_?"{}":"{"+p+h.join(","+p)+p+(s?"":d)+"}"):o?JSON.stringify(e)||"null":String(e)}const Me=t.escapeEverything?Ft:Ot;return h=e.replace(Me,(m,E,te,M,qe,Be)=>{if(E){if(t.minimal)return E;const re=E.charCodeAt(0),ne=E.charCodeAt(1);if(t.es6){const ze=(re-55296)*1024+ne-56320+65536;return"\\u{"+T(ze,i)+"}"}return B(T(re,i))+B(T(ne,i))}if(te)return B(T(te.charCodeAt(0),i));if(m=="\0"&&!o&&!At.test(Be.charAt(qe+1)))return"\\0";if(M)return M==a||t.escapeEverything?"\\"+M:M;if(Pt.test(m))return Ht[m];if(t.minimal&&!Nt.test(m))return m;const U=T(m.charCodeAt(0),i);return o||U.length>2?B(U):"\\x"+("00"+U).slice(-2)}),a=="`"&&(h=h.replace(/\$\{/g,"\\${")),t.isScriptContext&&(h=h.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,o?"\\u003C!--":"\\x3C!--")),t.wrap&&(h=a+h+a),h};S.version="3.0.2";var Dt=S;const F=wt(Dt);var Lt="Invariant failed";function Y(e,t){if(!e)throw new Error(Lt)}function Mt(e,t,r){if(!r.router.isServer)return t;r.match.extracted=r.match.extracted||[];const n=r.match.extracted;return Z(t,(a,s)=>{const i=a instanceof ReadableStream?"stream":a instanceof Promise?"promise":void 0;if(i){const u={dataType:e,type:i,path:s,id:n.length,value:a,matchIndex:r.match.index};if(n.push(u),i==="stream"){const[d,l]=a.tee();return u.streamState=Ut({stream:l}),d}else Xe(a)}return a})}function qt(e){const t=v(),r=t.state.matches[e.matchIndex];if(!t.isServer)return null;const n=r.extracted,[o,a]=["__beforeLoadContext","loaderData"].map(s=>n?n.reduce((i,u)=>u.dataType!==s?Q(i,["temp",...u.path],void 0):i,{temp:r[s]}).temp:r[s]);return g(R,{children:[o!==void 0||a!==void 0||n?.length?c(A,{children:`__TSR__.matches[${e.matchIndex}] = ${F({__beforeLoadContext:t.options.transformer.stringify(o),loaderData:t.options.transformer.stringify(a),extracted:n?Object.fromEntries(n.map(s=>[s.id,Ze(s,["type","path"])])):{}},{isScriptContext:!0,wrap:!0,json:!0})}; __TSR__.initMatch(${e.matchIndex})`}):null,n?n.map((s,i)=>s.type==="stream"?c(Jt,{entry:s},s.id):c(Bt,{entry:s},s.id)):null]})}function Z(e,t,r=[]){if(Qe(e))return e.map((o,a)=>Z(o,t,[...r,`${a}`]));if(X(e)){const o={};for(const a in e)o[a]=Z(e[a],t,[...r,a]);return o}const n=t(e,r);return n!==e?n:e}function Bt({entry:e}){return c("div",{className:"tsr-once",children:c($.Suspense,{fallback:null,children:c(zt,{entry:e})})})}function zt({entry:e}){if(e.value.status==="pending")throw e.value;return c(A,{children:`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].resolve(${F(e.value.data,{isScriptContext:!0,wrap:!0,json:!0})})`})}function Jt({entry:e}){return Y(e.streamState),c(_e,{streamState:e.streamState,children:t=>c(A,{children:t?`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.enqueue(new TextEncoder().encode(${F(t.toString(),{isScriptContext:!0,wrap:!0,json:!0})}))`:`__TSR__.matches[${e.matchIndex}].extracted[${e.id}].value.controller.close()`})})}function Ut({stream:e}){const t={promises:[]},r=e.getReader(),n=o=>(t.promises[o]=Ye(),r.read().then(({done:a,value:s})=>{if(a){t.promises[o].resolve(null),r.releaseLock();return}return t.promises[o].resolve(s),n(o+1)}));return n(0).catch(o=>{console.error("stream read error",o)}),t}function _e({streamState:e,children:t,__index:r=0}){const n=e.promises[r];if(!n)return null;if(n.status==="pending")throw n;const o=n.value;return g(R,{children:[t(o),c("div",{className:"tsr-once",children:c($.Suspense,{fallback:null,children:c(_e,{streamState:e,__index:r+1,children:t})})})]})}function Q(e,t,r){if(t.length===0)return r;const[n,...o]=t;return Array.isArray(e)?e.map((a,s)=>s===Number(n)?Q(a,o,r):a):X(e)?{...e,[n]:Q(e[n],o,r)}:e}function se(e){e.router.AfterEachMatch=qt,e.router.serializer=n=>F(n,{isScriptContext:!0,wrap:!0,json:!0});const t=me.get("TanStackRouterHydrationContext",{}),r=$.useMemo(()=>{var n,o;return{router:e.router.dehydrate(),payload:(o=(n=e.router.options).dehydrate)==null?void 0:o.call(n)}},[e.router]);return c(t.Provider,{value:r,children:c(et,{router:e.router})})}function Wt(e={}){let t,r=!1;const n=s=>{if(t&&t!==s)throw new Error("Context conflict")};let o;if(e.asyncContext){const s=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;s?o=new s:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(o&&t===void 0){const s=o.getStore();if(s!==void 0)return s}return t};return{use:()=>{const s=a();if(s===void 0)throw new Error("Context is not available");return s},tryUse:()=>a(),set:(s,i)=>{i||n(s),t=s,r=!0},unset:()=>{t=void 0,r=!1},call:(s,i)=>{n(s),t=s;try{return o?o.run(s,i):i()}finally{r||(t=void 0)}},async callAsync(s,i){t=s;const u=()=>{t=s},d=()=>t===s?u:void 0;ie.add(d);try{const l=o?o.run(s,i):i();return r||(t=void 0),await l}finally{ie.delete(d)}}}}function Gt(e={}){const t={};return{get(r,n={}){return t[r]||(t[r]=Wt({...e,...n})),t[r],t[r]}}}const z=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},oe="__unctx__",Kt=z[oe]||(z[oe]=Gt()),Vt=(e,t={})=>Kt.get(e,t),ae="__unctx_async_handlers__",ie=z[ae]||(z[ae]=new Set);function Zt(e){let t;const r=ve(e),n={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(r,{...n,body:e.node.req.body}):new Request(r,{...n,get body(){return t||(t=rr(e),t)}})}function xe(e){return e.web??={request:Zt(e),url:ve(e)},e.web.request}function Qt(){return ee()}const we=Symbol("$HTTPEvent");function Xt(e){return typeof e=="object"&&(e instanceof W||e?.[we]instanceof W||e?.__is_event__===!0)}function O(e){return function(...t){let r=t[0];if(Xt(r))t[0]=r instanceof W||r.__is_event__?r:r[we];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(r=Qt(),!r)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(r)}return e(...t)}}const Yt=O(Ge),ve=O(Je),er=O(Ke),tr=O(Ue),rr=O(We);function nr(){return Vt("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:Ve})}function ee(){return nr().use().event}function sr(e){return e instanceof Headers?new Headers(e):Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):new Headers}function ce(...e){return e.reduce((t,r)=>{const n=sr(r);for(const[o,a]of n.entries())t.set(o,a);return t},new Headers)}const j="server-fn-return-type",I="server-fn-payload-type";function or({createRouter:e,getRouterManifest:t}){return r=>fe(async n=>{const o=xe(n),a=new URL(o.url),s=a.href.replace(a.origin,""),i=tt({initialEntries:[s]}),u=e();u.serializeLoaderData=Mt,t&&(u.manifest=t()),u.update({history:i}),await u.load();const d=ar({event:n,router:u});return await r({request:o,router:u,responseHeaders:d})})}function ar(e){e.event.__tsrHeadersSent=!0;let t=ce(tr(e.event),{"Content-Type":"text/html; charset=UTF-8"},...e.router.state.matches.map(n=>n.headers));const{redirect:r}=e.router.state;return r&&(t=ce(t,r.headers,{Location:r.href})),[j,I].forEach(n=>{t.delete(n)}),t}var ir=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/5\\.0\\s[a-z\\.-]+$|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^valid|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adscanner/|analyzer|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|jsjcw_scanner|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scanner\\.|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|trace|transcoder|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|zgrab",cr=/bot|crawl|http|lighthouse|scan|search|spider/i,H;function ur(){if(H instanceof RegExp)return H;try{H=new RegExp(ir,"i")}catch{H=cr}return H}function ue(e){return!!e&&ur().test(e)}function lr(e){const t=be(()=>e.injectedHtml.map(r=>r()).join(""));return new ft({transform(r,n,o){t.transform(r,this.push.bind(this)).then(()=>o()).catch(a=>o(a))},flush(r){t.flush(this.push.bind(this)).then(()=>r()).catch(n=>r(n))}})}function dr(e){const t=be(()=>e.injectedHtml.map(n=>n()).join("")),r=new TextEncoder;return new TransformStream({transform(n,o){return t.transform(n,a=>(o.enqueue(r.encode(a)),!0))},flush(n){return t.flush(o=>(n.enqueue(o),!0))}})}const fr=/(<body)/,pr=/(<\/body>)/,hr=/(<\/html>)/,mr=/(<\/[a-zA-Z][\w:.-]*?>)/g,gr=new TextDecoder;function be(e){let t=!1,r="",n="";return{async transform(o,a){const s=r+gr.decode(o),i=s.match(fr),u=s.match(pr),d=s.match(hr);try{if(i&&(t=!0),!t){a(s),r="";return}const l=e();if(u&&d&&u.index<d.index){const f=u.index+u[0].length,p=d.index+d[0].length,h=s.slice(0,f)+l+s.slice(f,p)+s.slice(p);a(h),r=""}else{let f,p=0;for(;(f=mr.exec(s))!==null;)p=f.index+f[0].length;if(p>0){const h=s.slice(0,p)+l+n;a(h),r=s.slice(p)}else r=s,n+=l}}catch(l){throw console.error(l),l}},async flush(o){r&&o(r)}}}const yr=async({request:e,router:t,responseHeaders:r})=>{if(typeof q.renderToReadableStream=="function"){const n=await q.renderToReadableStream(c(se,{router:t}),{signal:e.signal,onError(s,i){console.error(s,i)}});ue(e.headers.get("User-Agent"))&&await n.allReady;const a=[dr(t)].reduce((s,i)=>s.pipeThrough(i),n);return new Response(a,{status:t.state.statusCode,headers:r})}if(typeof q.renderToPipeableStream=="function"){const n=new pt,o=q.renderToPipeableStream(c(se,{router:t}),{...ue(e.headers.get("User-Agent"))?{onAllReady(){o.pipe(n)}}:{onShellReady(){o.pipe(n)}},onShellError(i){throw i}}),s=[lr(t)].reduce((i,u)=>i.pipe(u),n);return new Response(s,{status:t.state.statusCode,headers:r})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")},_r=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/","/_authed","/sign-in","/sign-up"],preloads:["/_build/assets/client-DDBS8S0-.js","/_build/assets/client-oEds41LK.js"]},"/":{filePath:"index.tsx"},"/_authed":{filePath:"_authed.tsx",children:["/_authed/settings","/_authed/lists/$listId","/_authed/items/","/_authed/lists/"]},"/sign-in":{filePath:"sign-in.tsx"},"/sign-up":{filePath:"sign-up.tsx"},"/_authed/settings":{filePath:"_authed/settings.tsx",parent:"/_authed",children:["/_authed/settings/household","/_authed/settings/profile","/_authed/settings/"]},"/_authed/lists/$listId":{filePath:"_authed/lists/$listId.tsx",parent:"/_authed"},"/_authed/settings/household":{filePath:"_authed/settings/household.tsx",parent:"/_authed/settings"},"/_authed/settings/profile":{filePath:"_authed/settings/profile.tsx",parent:"/_authed/settings"},"/_authed/items/":{filePath:"_authed/items/index.tsx",parent:"/_authed"},"/_authed/lists/":{filePath:"_authed/lists/index.tsx",parent:"/_authed"},"/_authed/settings/":{filePath:"_authed/settings/index.tsx",parent:"/_authed/settings"}}});function Se(e){return globalThis.MANIFEST[e]}function xr(){const e=_r(),t=e.routes.__root__=e.routes.__root__||{};t.assets=t.assets||[];const r=Se("client");return t.assets.push({tag:"script",attrs:{src:r.inputs[r.handler]?.output.path,type:"module",async:!0,suppressHydrationWarning:!0}}),e}function wr(){const e=xr();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([t,r])=>{const{preloads:n,assets:o}=r;return[t,{preloads:n,assets:o}]}))}}async function vr(e,t,r){var n,o;const a=t[0];if(X(a)&&a.method){const l=a,f=l.payload instanceof FormData?"formData":l.payload instanceof Request?"request":"payload",p=new Headers({[I]:f,...f==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...((n=l.requestInit)==null?void 0:n.headers)instanceof Headers?Object.fromEntries(l.requestInit.headers.entries()):((o=l.requestInit)==null?void 0:o.headers)||{}});if(l.method==="GET"){const w=l.payload!==void 0?rt({payload:l.payload}).substring(1):"";w&&(e+=`&${w}`)}const h=new Request(e,{...l.requestInit,method:l.method,headers:p,...l.method==="POST"?{body:f==="formData"?l.payload:JSON.stringify(l.payload??null)}:{}}),_=await r(h),b=await le(_);if(["rsc"].includes(b.headers.get(j)))return b.body;if(["json"].includes(b.headers.get(j))){const w=await b.text(),C=w?JSON.parse(w):void 0;if(G(C)||K(C))throw C;return C}return b}const s=new Request(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",[I]:"args"},body:JSON.stringify(t)}),i=await le(await r(s)),u=i.headers.get("content-type"),d=await i.text();return u&&u.includes("application/json")?d?JSON.parse(d):void 0:d}async function le(e){if(!e.ok){const t=e.headers.get("content-type"),r=t&&t.includes("application/json"),n=await(async()=>r?await e.json():await e.text())(),o=`Request failed with status ${e.status}`;throw r?new Error(JSON.stringify({message:o,body:n})):new Error([o,`${JSON.stringify(n,null,2)}`].join(`

`))}return e}function br(e,t,r){return`${e}/_server/?_serverFnId=${encodeURI(t)}&_serverFnName=${encodeURI(r)}`}fe(Sr);async function Sr(e){return Re(xe(e))}async function Re(e,t){var r,n;const o=e.method,a=new URL(e.url,"http://localhost:3000"),s=Object.fromEntries(new URLSearchParams(a.search).entries()),i=s._serverFnId,u=s._serverFnName;if(!i||!u)throw new Error("Invalid request");Y(typeof i=="string");const d=(n=await((r=Se("server").chunks[i])==null?void 0:r.import()))==null?void 0:n[u],l=await(async()=>{try{const f=await(async()=>{var h;return e.headers.get(I)==="payload"?[o.toLowerCase()==="get"?(()=>{var _;return(_=nt(a.search))==null?void 0:_.payload})():await e.json(),{method:o,request:e}]:e.headers.get(I)==="formData"||(h=e.headers.get("Content-Type"))!=null&&h.includes("multipart/form-data")?[o.toLowerCase()==="get"?(()=>{const{_serverFnId:_,_serverFnName:b,payload:w}=s;return w})():await e.formData(),{method:o,request:e}]:e.headers.get(I)==="request"?[e,{method:o,request:e}]:await e.json()})(),p=await d(...f);return p instanceof Response?p:G(p)||K(p)?de(p):new Response(p!==void 0?JSON.stringify(p):void 0,{status:er(ee()),headers:{"Content-Type":"application/json",[j]:"json"}})}catch(f){return f instanceof Response?f:G(f)||K(f)?de(f):(console.error("Server Fn Error!"),console.error(f),console.info(),new Response(JSON.stringify(f),{status:500,headers:{"Content-Type":"application/json",[j]:"error"}}))}})();if(l.headers.get("Content-Type")==="application/json"){const p=await l.clone().text();p&&JSON.stringify(JSON.parse(p))}return l}function de(e){const{headers:t,...r}=e;return new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json",[j]:"json",...e.headers||{}}})}function Rr(e,t,r){const n=br("http://localhost:3000",t,r);return Object.assign((...a)=>vr(n,a,async s=>{const i=ee(),u=Yt(i);return Object.entries(u).forEach(([d,l])=>{s.headers.has(d)||s.headers.append(d,l)}),Re(s)}),{url:n})}function $e({tag:e,attrs:t,children:r}){switch(e){case"title":return c("title",{...t,suppressHydrationWarning:!0,children:r});case"meta":return c("meta",{...t,suppressHydrationWarning:!0});case"link":return c("link",{...t,suppressHydrationWarning:!0});case"style":return c("style",{...t,dangerouslySetInnerHTML:{__html:r}});case"script":return t&&t.src?c("script",{...t,suppressHydrationWarning:!0}):typeof r=="string"?c("script",{...t,dangerouslySetInnerHTML:{__html:r},suppressHydrationWarning:!0}):null;default:return null}}function $r(e,t){const r=t;return Y(r.url),Object.assign(async(n,o)=>r({method:e,payload:n||void 0,requestInit:o?.requestInit}),{url:t.url})}const Cr=()=>{const e=v(),t=P({select:a=>a.matches.map(s=>s.meta).filter(Boolean)}),r=$.useMemo(()=>{const a=[],s={};let i;return[...t].reverse().forEach(u=>{[...u].reverse().forEach(d=>{if(d.title)i||(i={tag:"title",children:d.title});else{if(d.name){if(s[d.name])return;s[d.name]=!0}a.push({tag:"meta",attrs:{...d}})}})}),i&&a.push(i),a.reverse(),a},[t]),n=P({select:a=>a.matches.map(s=>s.links).filter(Boolean).flat(1).map(s=>({tag:"link",attrs:{...s}}))}),o=P({select:a=>{const s=[];return a.matches.map(i=>e.looseRoutesById[i.routeId]).forEach(i=>{var u,d,l;return(l=(d=(u=e.manifest)==null?void 0:u.routes[i.id])==null?void 0:d.preloads)==null?void 0:l.filter(Boolean).forEach(f=>{s.push({tag:"link",attrs:{rel:"modulepreload",href:f}})})}),s}});return Hr([...r,...o,...n],a=>JSON.stringify(a))},Er=()=>{const e=v(),t=Cr(),r=$.useContext(me.get("TanStackRouterHydrationContext",{}));return g(R,{children:[c("meta",{name:"tsr-meta"}),t.map((n,o)=>he($e,{...n,key:`tsr-meta-${JSON.stringify(n)}`})),g(R,{children:[c(A,{log:!1,children:`
__TSR__ = {
  matches: [],
  streamedValues: {},
  initMatch: (index) => {
    Object.entries(__TSR__.matches[index].extracted).forEach(([id, ex]) => {
      if (ex.type === 'stream') {
        let controller;
        ex.value = new ReadableStream({
          start(c) { controller = c; }
        })
        ex.value.controller = controller
      } else if (ex.type === 'promise') {
        let r, j
        ex.value = new Promise((r_, j_) => { r = r_, j = j_ })
        ex.resolve = r; ex.reject = j
      }
    })
  },
  cleanScripts: () => {
    document.querySelectorAll('.tsr-once').forEach((el) => {
      el.remove()
    })
  },
}`}),c(A,{children:`__TSR__.dehydrated = ${F(e.options.transformer.stringify(r),{isScriptContext:!0,wrap:!0,json:!0})}`})]}),c("meta",{name:"/tsr-meta"})]})},kr=({children:e})=>{const t=v(),r=Er(),[n,o]=$.useState(!1);$[typeof document<"u"?"useLayoutEffect":"useEffect"](()=>{if(typeof document>"u")return;const s=document.head.querySelector('meta[name="tsr-meta"]'),i=document.head.querySelector('meta[name="/tsr-meta"]');let u=s?.nextElementSibling;for(;u&&u!==i;){const d=u.nextElementSibling;u.remove(),u=d}s?.remove(),i?.remove(),o(!0)},[]);const a=g(R,{children:[r,e]});return t.isServer?a:n?_t(a,document.head):null};function Ir({children:e,...t}){return v().isServer?c("html",{children:e}):c(R,{children:e})}function jr({children:e,...t}){return v().isServer?c("head",{children:e}):e}function Tr({children:e,...t}){return v().isServer?c("body",{children:c("div",{id:"root",children:e})}):e}function Hr(e,t){const r=new Set;return e.filter(n=>{const o=t(n);return r.has(o)?!1:(r.add(o),!0)})}const Pr=()=>{const e=v(),t=P({select:o=>{const a=[];return o.matches.map(s=>e.looseRoutesById[s.routeId]).forEach(s=>{var i,u,d;return(d=(u=(i=e.manifest)==null?void 0:i.routes[s.id])==null?void 0:u.assets)==null?void 0:d.filter(l=>l.tag==="script").forEach(l=>{a.push({tag:"script",attrs:l.attrs,children:l.children})})}),a}}),{scripts:r}=P({select:o=>({scripts:o.matches.map(a=>a.scripts).filter(Boolean).flat(1).map(({children:a,...s})=>({tag:"script",attrs:{...s,suppressHydrationWarning:!0},children:a}))})}),n=[...r,...t];return c(R,{children:n.map((o,a)=>he($e,{...o,key:`tsr-scripts-${o.tag}-${a}`}))})};function Ce({error:e}){const t=v(),r=st({strict:!1,select:n=>n.id===ot});return console.error(e),g("div",{className:"min-w-0 flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[c(at,{error:e}),g("div",{className:"flex gap-2 items-center flex-wrap",children:[c("button",{onClick:()=>{t.invalidate()},className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Try Again"}),r?c(V,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Home"}):c(V,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",onClick:n=>{n.preventDefault(),window.history.back()},children:"Go Back"})]})]})}function Ee({children:e}){return g("div",{className:"space-y-2 p-2",children:[c("div",{className:"text-gray-600 dark:text-gray-400",children:e||c("p",{children:"The page you are looking for does not exist."})}),g("p",{className:"flex items-center gap-2 flex-wrap",children:[c("button",{onClick:()=>window.history.back(),className:"bg-emerald-500 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Go back"}),c(V,{to:"/",className:"bg-cyan-600 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Start Over"})]})]})}const Ar="/_build/assets/app-CPSuEMvf.css",Nr=$r("GET",Rr(Or,"c_68ib1p","$$function0")),D=it({meta:()=>[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}],links:()=>[{rel:"stylesheet",href:Ar},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"manifest",href:"/site.webmanifest",color:"#fffff"},{rel:"icon",href:"/favicon.ico"}],beforeLoad:async()=>{const{user:e}=await Nr();return{user:e}},errorComponent:e=>c(ke,{children:c(Ce,{...e})}),notFoundComponent:()=>c(Ee,{}),component:Fr});function Fr(){return c(gt,{children:c(ke,{children:c(ct,{})})})}function ke({children:e}){return g(Ir,{children:[c(jr,{children:c(kr,{})}),g(Tr,{children:[c("hr",{}),e,c(ut,{}),c(yt,{position:"bottom-right"}),c(Pr,{})]})]})}async function Or(e,t){return{user:await ht(t.request)}}const Dr=()=>import("./sign-up-BKTcEwJX.js"),Ie=y("/sign-up")({component:x(Dr,"component",()=>Ie.ssr)}),Lr=()=>import("./sign-in-g3o6g4I4.js"),je=y("/sign-in")({component:x(Lr,"component",()=>je.ssr)}),Mr=()=>import("./_authed-CR3sNgj0.js"),Te=y("/_authed")({beforeLoad:({context:e})=>{if(!e.user.userId)throw pe({to:"/sign-in"})},component:x(Mr,"component",()=>Te.ssr)}),qr=()=>import("./index-3EEoM6oR.js"),He=y("/")({component:x(qr,"component",()=>He.ssr)}),Br=()=>import("./settings-8-2iHImM.js"),Pe=y("/_authed/settings")({component:x(Br,"component",()=>Pe.ssr)}),zr=y("/_authed/settings/")({beforeLoad:()=>pe({to:"/settings/profile"})}),Jr=()=>import("./index-DNEJTIoi.js"),Ae=y("/_authed/lists/")({component:x(Jr,"component",()=>Ae.ssr)}),Ur=()=>import("./index-BEdrl6oX.js"),Ne=y("/_authed/items/")({component:x(Ur,"component",()=>Ne.ssr)}),Wr=()=>import("./profile-BC2Bk7yA.js"),Fe=y("/_authed/settings/profile")({component:x(Wr,"component",()=>Fe.ssr)}),Gr=()=>import("./household-Bky8Qalq.js"),Oe=y("/_authed/settings/household")({component:x(Gr,"component",()=>Oe.ssr)}),Kr=()=>import("./_listId-BjR8dpTv.js"),De=y("/_authed/lists/$listId")({component:x(Kr,"component",()=>De.ssr)}),Vr=Ie.update({id:"/sign-up",path:"/sign-up",getParentRoute:()=>D}),Zr=je.update({id:"/sign-in",path:"/sign-in",getParentRoute:()=>D}),L=Te.update({id:"/_authed",getParentRoute:()=>D}),Qr=He.update({id:"/",path:"/",getParentRoute:()=>D}),J=Pe.update({id:"/settings",path:"/settings",getParentRoute:()=>L}),Xr=zr.update({id:"/",path:"/",getParentRoute:()=>J}),Yr=Ae.update({id:"/lists/",path:"/lists/",getParentRoute:()=>L}),en=Ne.update({id:"/items/",path:"/items/",getParentRoute:()=>L}),tn=Fe.update({id:"/profile",path:"/profile",getParentRoute:()=>J}),rn=Oe.update({id:"/household",path:"/household",getParentRoute:()=>J}),nn=De.update({id:"/lists/$listId",path:"/lists/$listId",getParentRoute:()=>L}),sn={AuthedSettingsHouseholdRoute:rn,AuthedSettingsProfileRoute:tn,AuthedSettingsIndexRoute:Xr},on=J._addFileChildren(sn),an={AuthedSettingsRoute:on,AuthedListsListIdRoute:nn,AuthedItemsIndexRoute:en,AuthedListsIndexRoute:Yr},cn=L._addFileChildren(an),un={IndexRoute:Qr,AuthedRoute:cn,SignInRoute:Zr,SignUpRoute:Vr},ln=D._addFileChildren(un)._addFileTypes();function dn(){return lt({routeTree:ln,defaultPreload:"intent",defaultErrorComponent:Ce,defaultNotFoundComponent:()=>c(Ee,{})})}const fn=or({createRouter:dn,getRouterManifest:wr}),pn=mt(fn),Cn=pn(yr);export{De as R,Cn as h};
