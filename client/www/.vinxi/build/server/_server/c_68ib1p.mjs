import{jsx as n,Fragment as w,jsxs as m}from"react/jsx-runtime";import{useRouter as y,ScriptOnce as O,useRouterState as S,useMatch as V,rootRouteId as K,ErrorComponent as Q,Link as R,createRootRoute as X,Outlet as Y,ScrollRestoration as Z}from"@tanstack/react-router";import{ClerkProvider as ee}from"@clerk/tanstack-start";import{TanStackRouterDevtools as te}from"@tanstack/router-devtools";import{i as re}from"./tiny-invariant.mjs";import*as F from"react";import{createContext as ne,createElement as A}from"react";import{createPortal as se}from"react-dom";import{getAuth as ce}from"@clerk/tanstack-start/server";function ie(e,t,r){return Object.assign(e,{url:"https://localhost:3000"})}function H({tag:e,attrs:t,children:r}){switch(e){case"title":return n("title",{...t,suppressHydrationWarning:!0,children:r});case"meta":return n("meta",{...t,suppressHydrationWarning:!0});case"link":return n("link",{...t,suppressHydrationWarning:!0});case"style":return n("style",{...t,dangerouslySetInnerHTML:{__html:r}});case"script":return t&&t.src?n("script",{...t,suppressHydrationWarning:!0}):typeof r=="string"?n("script",{...t,dangerouslySetInnerHTML:{__html:r},suppressHydrationWarning:!0}):null;default:return null}}function oe(e,t){const r=t;return re(r.url),Object.assign(async(c,o)=>r({method:e,payload:c||void 0,requestInit:o?.requestInit}),{url:t.url})}function ae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const q={},le=q.hasOwnProperty,I=(e,t)=>{for(const r in e)le.call(e,r)&&t(r,e[r])},ue=(e,t)=>(t&&I(t,(r,c)=>{e[r]=c}),e),fe=(e,t)=>{const r=e.length;let c=-1;for(;++c<r;)t(e[c])},C=e=>"\\u"+("0000"+e).slice(-4),v=(e,t)=>{let r=e.toString(16);return t?r:r.toUpperCase()},k=q.toString,de=Array.isArray,pe=e=>typeof Buffer=="function"&&Buffer.isBuffer(e),me=e=>k.call(e)=="[object Object]",he=e=>typeof e=="string"||k.call(e)=="[object String]",ye=e=>typeof e=="number"||k.call(e)=="[object Number]",xe=e=>typeof e=="function",ge=e=>k.call(e)=="[object Map]",_e=e=>k.call(e)=="[object Set]",be={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},ve=/[\\\b\f\n\r\t]/,Se=/[0-9]/,we=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ke=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,je=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,h=(e,t)=>{const r=()=>{u=l,++t.indentLevel,l=t.indent.repeat(t.indentLevel)},c={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},o=t&&t.json;o&&(c.quotes="double",c.wrap=!0),t=ue(c,t),t.quotes!="single"&&t.quotes!="double"&&t.quotes!="backtick"&&(t.quotes="single");const i=t.quotes=="double"?'"':t.quotes=="backtick"?"`":"'",s=t.compact,a=t.lowercaseHex;let l=t.indent.repeat(t.indentLevel),u="";const p=t.__inline1__,x=t.__inline2__,g=s?"":`
`;let f,j=!0;const L=t.numbers=="binary",T=t.numbers=="octal",P=t.numbers=="decimal",W=t.numbers=="hexadecimal";if(o&&e&&xe(e.toJSON)&&(e=e.toJSON()),!he(e)){if(ge(e))return e.size==0?"new Map()":(s||(t.__inline1__=!0,t.__inline2__=!1),"new Map("+h(Array.from(e),t)+")");if(_e(e))return e.size==0?"new Set()":"new Set("+h(Array.from(e),t)+")";if(pe(e))return e.length==0?"Buffer.from([])":"Buffer.from("+h(Array.from(e),t)+")";if(de(e))return f=[],t.wrap=!0,p&&(t.__inline1__=!1,t.__inline2__=!0),x||r(),fe(e,d=>{j=!1,x&&(t.__inline2__=!1),f.push((s||x?"":l)+h(d,t))}),j?"[]":x?"["+f.join(", ")+"]":"["+g+f.join(","+g)+g+(s?"":u)+"]";if(ye(e)){if(o)return JSON.stringify(e);if(P)return String(e);if(W){let d=e.toString(16);return a||(d=d.toUpperCase()),"0x"+d}if(L)return"0b"+e.toString(2);if(T)return"0o"+e.toString(8)}else return me(e)?(f=[],t.wrap=!0,r(),I(e,(d,_)=>{j=!1,f.push((s?"":l)+h(d,t)+":"+(s?"":" ")+h(_,t))}),j?"{}":"{"+g+f.join(","+g)+g+(s?"":u)+"}"):o?JSON.stringify(e)||"null":String(e)}const J=t.escapeEverything?ke:je;return f=e.replace(J,(d,_,D,E,z,U)=>{if(_){if(t.minimal)return _;const B=_.charCodeAt(0),M=_.charCodeAt(1);if(t.es6){const G=(B-55296)*1024+M-56320+65536;return"\\u{"+v(G,a)+"}"}return C(v(B,a))+C(v(M,a))}if(D)return C(v(D.charCodeAt(0),a));if(d=="\0"&&!o&&!Se.test(U.charAt(z+1)))return"\\0";if(E)return E==i||t.escapeEverything?"\\"+E:E;if(ve.test(d))return be[d];if(t.minimal&&!we.test(d))return d;const N=v(d.charCodeAt(0),a);return o||N.length>2?C(N):"\\x"+("00"+N).slice(-2)}),i=="`"&&(f=f.replace(/\$\{/g,"\\${")),t.isScriptContext&&(f=f.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,o?"\\u003C!--":"\\x3C!--")),t.wrap&&(f=i+f+i),f};h.version="3.0.2";var Ee=h;const Ce=ae(Ee);class b{constructor(){this.cache=new Map}static create(){return b.instance||(b.instance=new b),b.instance}createContext(t,r){const c=ne(r);return this.cache.set(t,c),c}get(t,r){return this.cache.get(t)||this.createContext(t,r)}}const Fe=b.create(),Ne=Fe,Re=()=>{const e=y(),t=S({select:i=>i.matches.map(s=>s.meta).filter(Boolean)}),r=F.useMemo(()=>{const i=[],s={};let a;return[...t].reverse().forEach(l=>{[...l].reverse().forEach(u=>{if(u.title)a||(a={tag:"title",children:u.title});else{if(u.name){if(s[u.name])return;s[u.name]=!0}i.push({tag:"meta",attrs:{...u}})}})}),a&&i.push(a),i.reverse(),i},[t]),c=S({select:i=>i.matches.map(s=>s.links).filter(Boolean).flat(1).map(s=>({tag:"link",attrs:{...s}}))}),o=S({select:i=>{const s=[];return i.matches.map(a=>e.looseRoutesById[a.routeId]).forEach(a=>{var l,u,p;return(p=(u=(l=e.manifest)==null?void 0:l.routes[a.id])==null?void 0:u.preloads)==null?void 0:p.filter(Boolean).forEach(x=>{s.push({tag:"link",attrs:{rel:"modulepreload",href:x}})})}),s}});return He([...r,...o,...c],i=>JSON.stringify(i))},De=()=>{const e=y(),t=Re(),r=F.useContext(Ne.get("TanStackRouterHydrationContext",{}));return m(w,{children:[n("meta",{name:"tsr-meta"}),t.map((c,o)=>A(H,{...c,key:`tsr-meta-${JSON.stringify(c)}`})),m(w,{children:[n(O,{log:!1,children:`
__TSR__ = {
  matches: [],
  streamedValues: {},
  initMatch: (index) => {
    Object.entries(__TSR__.matches[index].extracted).forEach(([id, ex]) => {
      if (ex.type === 'stream') {
        let controller;
        ex.value = new ReadableStream({
          start(c) { controller = c; }
        })
        ex.value.controller = controller
      } else if (ex.type === 'promise') {
        let r, j
        ex.value = new Promise((r_, j_) => { r = r_, j = j_ })
        ex.resolve = r; ex.reject = j
      }
    })
  },
  cleanScripts: () => {
    document.querySelectorAll('.tsr-once').forEach((el) => {
      el.remove()
    })
  },
}`}),n(O,{children:`__TSR__.dehydrated = ${Ce(e.options.transformer.stringify(r),{isScriptContext:!0,wrap:!0,json:!0})}`})]}),n("meta",{name:"/tsr-meta"})]})},Be=({children:e})=>{const t=y(),r=De(),[c,o]=F.useState(!1);F[typeof document<"u"?"useLayoutEffect":"useEffect"](()=>{if(typeof document>"u")return;const s=document.head.querySelector('meta[name="tsr-meta"]'),a=document.head.querySelector('meta[name="/tsr-meta"]');let l=s?.nextElementSibling;for(;l&&l!==a;){const u=l.nextElementSibling;l.remove(),l=u}s?.remove(),a?.remove(),o(!0)},[]);const i=m(w,{children:[r,e]});return t.isServer?i:c?se(i,document.head):null};function Me({children:e,...t}){return y().isServer?n("html",{children:e}):n(w,{children:e})}function Oe({children:e,...t}){return y().isServer?n("head",{children:e}):e}function Ae({children:e,...t}){return y().isServer?n("body",{children:n("div",{id:"root",children:e})}):e}function He(e,t){const r=new Set;return e.filter(c=>{const o=t(c);return r.has(o)?!1:(r.add(o),!0)})}const qe=()=>{const e=y(),t=S({select:o=>{const i=[];return o.matches.map(s=>e.looseRoutesById[s.routeId]).forEach(s=>{var a,l,u;return(u=(l=(a=e.manifest)==null?void 0:a.routes[s.id])==null?void 0:l.assets)==null?void 0:u.filter(p=>p.tag==="script").forEach(p=>{i.push({tag:"script",attrs:p.attrs,children:p.children})})}),i}}),{scripts:r}=S({select:o=>({scripts:o.matches.map(i=>i.scripts).filter(Boolean).flat(1).map(({children:i,...s})=>({tag:"script",attrs:{...s,suppressHydrationWarning:!0},children:i}))})}),c=[...r,...t];return n(w,{children:c.map((o,i)=>A(H,{...o,key:`tsr-scripts-${o.tag}-${i}`}))})};function Ie({error:e}){const t=y(),r=V({strict:!1,select:c=>c.id===K});return console.error(e),m("div",{className:"min-w-0 flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[n(Q,{error:e}),m("div",{className:"flex gap-2 items-center flex-wrap",children:[n("button",{onClick:()=>{t.invalidate()},className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Try Again"}),r?n(R,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",children:"Home"}):n(R,{to:"/",className:"px-2 py-1 bg-gray-600 dark:bg-gray-700 rounded text-white uppercase font-extrabold",onClick:c=>{c.preventDefault(),window.history.back()},children:"Go Back"})]})]})}function $e({children:e}){return m("div",{className:"space-y-2 p-2",children:[n("div",{className:"text-gray-600 dark:text-gray-400",children:e||n("p",{children:"The page you are looking for does not exist."})}),m("p",{className:"flex items-center gap-2 flex-wrap",children:[n("button",{onClick:()=>window.history.back(),className:"bg-emerald-500 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Go back"}),n(R,{to:"/",className:"bg-cyan-600 text-white px-2 py-1 rounded uppercase font-black text-sm",children:"Start Over"})]})]})}const Le="/_server/assets/app-CPSuEMvf.css",Te=oe("GET",ie(We)),Ze=X({meta:()=>[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}],links:()=>[{rel:"stylesheet",href:Le},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"manifest",href:"/site.webmanifest",color:"#fffff"},{rel:"icon",href:"/favicon.ico"}],beforeLoad:async()=>{const{user:e}=await Te();return{user:e}},errorComponent:e=>n($,{children:n(Ie,{...e})}),notFoundComponent:()=>n($e,{}),component:Pe});function Pe(){return n(ee,{children:n($,{children:n(Y,{})})})}function $({children:e}){return m(Me,{children:[n(Oe,{children:n(Be,{})}),m(Ae,{children:[n("hr",{}),e,n(Z,{}),n(te,{position:"bottom-right"}),n(qe,{})]})]})}async function We(e,t){return{user:await ce(t.request)}}export{We as $$function0,Ze as Route};
